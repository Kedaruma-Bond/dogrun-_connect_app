<% content_for(:title, t('.title')) %>
<%= turbo_frame_tag "sns_account_form_modal" %>
<%= turbo_frame_tag "user_detail_form_modal" %>
<div class="max-w-5xl mx-3 md:mx-auto sm:px-6 lg:px-8 bg-purple-200 rounded-lg">
  <div class="w-full p-5">
    <p class="text-2xl md:text-3xl font-bold text-gray-700 text-center my-2">
      <%= t'.title' %>
    </p>
    <div class="flex items-center lg:w-3/5 mx-auto sm:flex-row flex-col">
      <div class="sm:w-32 sm:h-32 h-20 w-20 sm:mr-10 inline-flex items-center justify-center rounded-full bg-indigo-100 text-indigo-500 flex-shrink-0">
        <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="sm:w-16 sm:h-16 w-10 h-10" viewBox="0 0 24 24">
          <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
      <div class="flex flex-col justify-start mt-6 sm:mt-2 min-w-[245px]">
        <p class="text-gray-500 leading-relaxed text-base"><%= t'.name' %></p>
        <h2 class="text-2xl font-semibold text-gray-700 title-font mb-2"><%= current_user.name %></h2>
        <% if current_user.role != 'guest' %>
          <p class="text-gray-500 leading-relaxed text-base"><%= t'.email' %></p>
          <h2 class="text-lg font-semibold text-gray-700 title-font mb-2"><%= current_user.email %></h2>
        <% end %>
        <% if current_user.role != 'guest' %>
          <%= turbo_frame_tag dom_id(current_user, :user_detail) do %>
            <%= render partial: "shared/user_detail_part" %>
          <% end %>
          <%= turbo_frame_tag dom_id(current_user, :sns_icons) do %>
            <%= render partial: "shared/sns_icon_part" %>
          <% end %>
        <% end %>
      </div>
    </div>
    <% if current_user.role != 'guest' %>
      <div class="flex items-center mt-3 flex-row justify-center text-left">
        <div class="ml-10 md:mr-10 w-auto">
          <p class="text-gray-600 font-light mb-1 pr-5">
            <%= t'defaults.registration_dogs_num' %>
          </p>
          <div class="flex w-1/3">
            <h1 class="mt-1 text-3xl font-bold text-gray-700">
              <%= @dogs.size %>
            </h1>
            <p class="text-gray-600 font-light text-right mt-4 ml-5">
              <%= t'.of_dogs' %>
            </p>
          </div>
        </div>
        <div class="ml-10 md:mr-10 w-auto">
          <p class="text-gray-600 font-light mb-1 pr-5">
            <%= t'defaults.encount_dogs_num' %>
          </p>
          <div class="flex w-1/3">
            <h1 class="mt-1 text-3xl font-bold text-gray-700">
              <%= @Num_of_encount_dogs %>
            </h1>
            <p class="text-gray-600 font-light text-right mt-4 ml-5">
              <%= t'.of_dogs' %>
            </p>
          </div>
        </div>
        <%= link_to send(@dog_registration_path) do %>
          <button class="hidden md:flex items-center px-2 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-200 transform bg-amber-600 rounded-md hover:bg-amber-500 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-80">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd"></path>
            </svg>
            <span class="mx-1"><%= t'.add_dog' %></span>
          </button>
        <% end %>
      </div>
    <% end %>
    <%= render 'shared/registered_dog' %>
    <div class="md:hidden sm:w-2/3 sm:pl-8 sm:py-2 sm:border-l border-gray-200 sm:border-t-0 border-t mt-4 pt-4 sm:mt-0 text-center sm:text-left">
    <% if current_user.role != 'guest' %>
      <%= link_to send(@dog_registration_path) do %>
        <button class="md:hidden mt-2 flex items-center mx-auto px-2 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-200 transform bg-amber-600 rounded-md hover:bg-amber-500 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-80">
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd"></path>
          </svg>
          <span class="mx-1"><%= t'.add_dog' %></span>
        </button>
      <% end %>
    <% end %>
  </div>
</div>
