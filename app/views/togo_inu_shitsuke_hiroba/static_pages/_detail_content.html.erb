<section class="pt-4">
  <div class="w-full px-1">
    <div class="flex flex-col min-w-0 w-full mb-3 rounded-lg">
      <div class="block w-full overflow-x-auto">
        <div class="table table-auto items-center w-full bg-transparent border-collapse">
          <div class="table-header-group">
            <div class="table-row">
              <div class="table-cell pl-6 md:pl-12 text-sm whitespace-nowrap font-semibold bg-purple-200 text-gray-600 border-b border-gray-700">
                <%= simple_format(t'defaults.thumbnail') %>
              </div>
              <div class="table-cell pl-2 text-sm whitespace-nowrap font-semibold text-left bg-purple-200 text-gray-600 border-b border-gray-700">
                <%= simple_format(t'defaults.dog_name') %>
              </div>
              <div class="hidden md:table-cell pl-2 text-sm whitespace-nowrap font-semibold text-left bg-purple-200 text-gray-600 border-b border-gray-700">
                <%= t'defaults.breed' %>
              </div>
              <div class="hidden md:table-cell pl-2 text-sm whitespace-nowrap font-semibold text-left bg-purple-200 text-gray-600 border-b border-gray-700">
                <%= t'defaults.age' %>
              </div>
              <div class="hidden md:table-cell pl-2 text-sm whitespace-nowrap font-semibold text-left bg-purple-200 text-gray-600 border-b border-gray-700">
                <%= t'defaults.sex' %>
              </div>
              <div class="hidden md:table-cell pl-2 text-sm whitespace-nowrap font-semibold text-left bg-purple-200 text-gray-600 border-b border-gray-700">
                <%= t'defaults.weight' %>
              </div>
              <div class="table-cell pl-2 text-sm whitespace-nowrap font-semibold text-left bg-purple-200 text-gray-600 border-b border-gray-700">
                <%= simple_format(t'defaults.entry_at') %>
              </div>
              <div class="table-cell text-sm whitespace-nowrap font-semibold bg-purple-200 text-gray-600 border-b border-gray-700">
                <%= simple_format(t'defaults.owner_comment') %>
              </div>
            </div>
          </div>
          <div class="table-row-group">
            <% @dogs_public_view.size.times do |t| %>
              <div class="table-row">
                <div class="table-cell whitespace-nowrap bg-purple-200">
                  <%= link_to togo_inu_shitsuke_hiroba_dog_path(@dogs_public_view[t].id), class: "flex" do %>
                    <%= birthday_marker(@dogs_public_view[t]) %>
                    <div class="w-28 h-28 mb-3 mx-auto">
                      <%= dog_thumbnail(@dogs_public_view[t]) %>
                    </div>
                  <% end %>
                </div>
                <div class="table-cell align-middle pl-2 text-base whitespace-normal font-semibold text-left bg-purple-200 text-gray-600">
                  <%= link_to togo_inu_shitsuke_hiroba_dog_path(@dogs_public_view[t].id) do %>
                    <%= @dogs_public_view[t].name %>
                  <% end %>
                  <% if @dogs_public_view[t].filming_approval? %>
                    <div class="flex">
                      <%= render partial: "shared/filming_approval" %>
                      <% if @dogs_public_view[t].sns_post_approval? %>
                        <%= render partial: "shared/sns_post_approval" %>
                      <% end %>
                    </div>
                  <% end %>
                </div>
                <div class="hidden md:table-cell align-middle pl-2 text-base whitespace-nowrap font-semibold text-left bg-purple-200 text-gray-600">
                  <% if @dogs_public_view[t].breed == '' %>
                    -
                  <% else %>
                    <%= @dogs_public_view[t].breed %>
                  <% end %>
                </div>
                <div class="hidden md:table-cell pl-2 text-base align-middle whitespace-nowrap font-semibold text-left bg-purple-200 text-gray-600">
                  <% if @dogs_public_view[t].birthday.blank? %>
                    -
                  <% else %>
                    <%= @dogs_public_view[t].age %>
                  <% end %>
                  <p class="text-sm pt-4 font-light"><%= t'defaults.age_unit' %></p>
                </div>
                <div class="hidden md:table-cell pl-2 text-base align-middle whitespace-nowrap font-semibold text-left bg-purple-200 text-gray-600">
                  <% if @dogs_public_view[t].sex.blank? %>
                    -
                  <% else %>
                    <%= @dogs_public_view[t].sex_i18n %>
                  <% end %>
                </div>
                <div class="hidden md:table-cell pl-2 text-base align-middle whitespace-nowrap font-semibold text-left bg-purple-200 text-gray-600">
                  <% if @dogs_public_view[t].weight.blank? %>
                    -
                  <% else %>
                    <%= @dogs_public_view[t].weight %>
                  <% end %>
                  <p class="text-sm pt-4 font-light"><%= t'defaults.weight_unit' %></p>
                </div>
                <div class="table-cell pl-2 align-middle py-2 text-base whitespace-nowrap font-semibold text-left bg-purple-200 text-gray-600">
                  <%= l Entry.where(dog: @dogs_public_view[t]).last.entry_at, format: :short2 %>
                </div>
                <div data-controller="form-modal" class="table-cell align-middle">
                  <% if !@dogs_public_view[t].owner_comment.blank? %>
                    <div data-action="click->form-modal#open">
                      <svg class="w-7 h-7 mx-auto text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path>
                      </svg>
                    </div>
                    <%= render partial: 'shared/owner_comment_modal', locals: { dog: @dogs_public_view[t] } %>
                  <% else %>
                    -
                  <% end %>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
